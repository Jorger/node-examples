<html>
<head>
  <title>Node / Mysql Example</title>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap-theme.min.css">
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/js/bootstrap.min.js"></script>
</head>
<body>
	<div style="margin:100px;">
	    <nav class="navbar navbar-inverse navbar-static-top">
		  	<div class="container">
			    <a class="navbar-brand" href="/">Node and Mysql</a>
			    <ul class="nav navbar-nav">
		      		<li class="active">
			        	<a href="#" onclick="getUsersByName('names');return false;">List names</a>
			      	</li>
			      	<li>
			        	<a href="#" onclick="getUsersByName('ids');return false;">List ids</a>
			      	</li>
			    </ul>
		  	</div>
		</nav>
		<div class="jumbotron"  style="padding:40px;">
			<div id="dataholder"></div>
	    </div>
  	</div>
	<script type="text/javascript">
		/*
			Obviously there a better way to get and parse the data.
			But for sake of simplicity we will leave it like this for
			now.
		*/

		function getUsersByName(querystr){
			$.ajax({
				url: "/"+querystr,
				type : 'JSON',
				method : 'GET',
				success : function(data){
					appendToDiv(data);
				},
				error: function(xhr,status,statustext){
					console.log(xhr);
				}
			});
		}

		function appendToDiv(data){
			var el = document.getElementById('dataholder');
			data.forEach(function(user){
				var name = user.username;
				var id  = user.userid;

				if(id){
					el.innerHTML +=  '<li>' + "Id : " + id + '</li>';
				}
				else{
					el.innerHTML +=  '<li>' +"Name : "+ user.username + '</li>';
				}
			});
		}
	</script>
</body>
</html>